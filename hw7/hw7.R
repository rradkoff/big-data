##
## housekeeping
##

rm(list = ls())
source('../utils/source_me.R', chdir = T)
OutputToFile = F
plotOpts$Prefix = "output/"


###############################################################################
# Read Data
###############################################################################
sp <- read.csv('sp500.csv')
fx <- read.csv("FXmonthly.csv")
codes <- read.csv('currency_codes.txt', sep=' ', quote="'", header=F,
                  col.names=c("code", "country"), row.names="code")

# Convert to a percentage return over the previous month.
fx <- (fx[2:120,]-fx[1:119,])/(fx[1:119,])
colNames <- gsub("\\w{2}(\\w{2})\\w{2}", "\\1", colnames(fx))
colnames(fx) <- codes[colNames,]

###############################################################################
# 1)
###############################################################################
# heatmap(cor(fx), Rowv = NA, Colv = NA, symm = T)
heatmap(cor(fx), symm = T)
###############################################################################
# 2)
###############################################################################

###############################################################################
# 3)
###############################################################################
###############################################################################
# 4)
###############################################################################
###############################################################################
# 5)
###############################################################################
